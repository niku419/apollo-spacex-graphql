(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{203:function(e,t,n){},204:function(e,t,n){},284:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(35),r=n.n(i),s=(n(203),n(204),n(205),n(206),n(110)),o=n(30),l=n(55),d=n(86),j=n(8);function u(){var e=Object(c.useState)(window.location.pathname.substring(1)||"home"),t=Object(l.a)(e,2),n=t[0],a=t[1];return console.log(n),Object(j.jsx)("div",{children:Object(j.jsxs)(d.a,{onClick:function(e){console.log(e.key),a(e.key)},selectedKeys:[n],mode:"horizontal",children:[Object(j.jsx)(d.a.Item,{children:Object(j.jsx)("a",{href:"/",style:{textDecoration:"none"},rel:"noopener noreferrer",children:"Home"})},"home"),Object(j.jsx)(d.a.Item,{children:Object(j.jsx)("a",{href:"/launches",style:{textDecoration:"none"},rel:"noopener noreferrer",children:"Launches"})},"launches"),Object(j.jsx)(d.a.Item,{children:Object(j.jsx)("a",{href:"/rockets",style:{textDecoration:"none"},rel:"noopener noreferrer",children:"Rockets"})},"rockets"),Object(j.jsx)(d.a.Item,{children:Object(j.jsx)("a",{href:"/users",style:{textDecoration:"none"},rel:"noopener noreferrer",children:"Users"})},"users")]})})}var b=n(187),h=n(299),m=n(302),O=n(293);function x(e){var t=e.children,n=Object(b.a)({uri:"https://api.spacex.land/graphql/",credentials:"same-origin"}),c=new h.a({link:n,cache:new m.a});return Object(j.jsxs)(O.a,{client:c,children:[Object(j.jsx)(u,{}),t]})}var p,g,f,_,k,v=n(34),y=n(304),w=n(301),N=n(303),I=n(297),$=n(305);function q(){var e=Object(y.a)(Object(w.a)(p||(p=Object(v.a)(["\n    query {\n      launches {\n        mission_id\n        launch_date_local\n        details\n        mission_name\n        launch_site{\n          site_name\n        }\n        links {\n          flickr_images\n        }\n      }\n    }\n  "])))),t=e.loading,n=e.error,c=e.data;return t?[1,2,3].map((function(e){return Object(j.jsx)(N.a,{loading:t,active:!0,children:Object(j.jsx)(I.a,{style:{width:300,marginTop:16},loading:t,children:Object(j.jsx)(I.a.Meta,{title:"loading",description:"loading"})},e)})})):n?Object(j.jsxs)("p",{children:["Error ",JSON.stringify(n)]}):Object(j.jsx)($.a,{className:"p-0 m-0 row",fluid:!0,children:c.launches.length>0&&c.launches.map((function(e){return Object(j.jsxs)(I.a,{style:{width:300,marginTop:16},className:"col-md-6",loading:t,children:[Object(j.jsx)("h4",{children:Object(j.jsx)("a",{href:"launches/".concat(e.mission_id),children:e.mission_name})}),Object(j.jsx)(I.a.Meta,{description:e.details}),Object(j.jsxs)("div",{className:"text-muted pt-2",children:["On ",e.launch_date_local," from ",e.launch_site.site_name]}),Object(j.jsx)("div",{children:e.links.flickr_images.map((function(e){return Object(j.jsx)("div",{style:{wordWrap:"break-word"},children:Object(j.jsx)("a",{href:e,children:e})})}))})]},e.mission_id[0])}))})}function S(){var e=Object(y.a)(Object(w.a)(g||(g=Object(v.a)(["\n    query {\n      rockets {\n        country\n        description\n        company\n        cost_per_launch\n        id\n        name\n        mass {\n          kg\n        }\n      }\n    }\n  "])))),t=e.loading,n=e.error,c=e.data;return t?[1,2,3].map((function(e){return Object(j.jsx)(N.a,{loading:t,active:!0,children:Object(j.jsx)(I.a,{style:{width:300,marginTop:16},loading:t,children:Object(j.jsx)(I.a.Meta,{title:"loading",description:"loading"})},e)})})):n?Object(j.jsxs)("p",{children:["Error ",JSON.stringify(n)]}):Object(j.jsx)($.a,{className:"p-0 m-0 row",fluid:!0,children:c.rockets.length>0&&c.rockets.map((function(e){return Object(j.jsxs)(I.a,{style:{width:300,marginTop:16},className:"col-md-6",loading:t,children:[Object(j.jsx)("h5",{children:Object(j.jsxs)("a",{href:"rockets/".concat(e.id),children:[e.name," by ",e.company]})}),Object(j.jsx)(I.a.Meta,{description:e.description}),Object(j.jsxs)("div",{className:"text-muted pt-1",children:["By ",e.country]}),Object(j.jsxs)("div",{className:"text-muted pt-1",children:["Cost: ",e.cost_per_launch]}),Object(j.jsxs)("div",{className:"text-muted pt-1",children:["Weight: ",e.mass.kg,"kg"]})]},e.id[0])}))})}function T(){var e=Object(w.a)(f||(f=Object(v.a)(["\n    query {\n      launchesUpcoming(limit: 5) {\n        details\n        id\n        launch_date_local\n        mission_id\n        mission_name\n        launch_site {\n          site_name\n        }\n      }\n    }\n  "]))),t=Object(y.a)(e),n=t.loading,c=t.error,a=t.data;return c?Object(j.jsxs)("p",{children:["Error ",JSON.stringify(c)]}):n?[1,2,3].map((function(e){return Object(j.jsx)(N.a,{loading:n,active:!0,children:Object(j.jsx)(I.a,{style:{width:300,marginTop:16},loading:n,children:Object(j.jsx)(I.a.Meta,{title:"loading",description:"loading"})},e)})})):Object(j.jsx)($.a,{className:"p-0 m-0 row",fluid:!0,children:a.launchesUpcoming.length>0&&a.launchesUpcoming.map((function(e){return Object(j.jsxs)(I.a,{style:{width:300,marginTop:16},className:"col-md-6",loading:n,children:[Object(j.jsx)(I.a.Meta,{title:e.mission_name,description:e.details}),Object(j.jsxs)("div",{className:"text-muted pt-2",children:["On ",e.launch_date_local," from ",e.launch_site.site_name]})]},e.mission_id[0])}))})}function C(){var e=Object(o.g)().launchId,t=Object(w.a)(_||(_=Object(v.a)(["\n    query LaunchById($mission_id: String){\n      launches(find: {mission_id: $mission_id}) {\n        mission_name\n        mission_id\n        details\n        launch_date_local\n        launch_site {\n          site_name\n        }\n        links {\n          video_link\n          flickr_images\n        }\n      }\n    }\n  "]))),n=Object(y.a)(t,{variables:{mission_id:e}}),c=n.loading,a=n.error,i=n.data;return c?[1,2,3].map((function(e){return Object(j.jsx)(N.a,{loading:c,active:!0,children:Object(j.jsx)(I.a,{style:{width:300,marginTop:16},loading:c,children:Object(j.jsx)(I.a.Meta,{title:"loading",description:"loading"})},e)})})):a?Object(j.jsxs)("p",{children:["Error ",JSON.stringify(a)]}):Object(j.jsx)($.a,{className:"p-0 m-0 row",fluid:!0,children:i.launches.length>0&&i.launches.map((function(e){return Object(j.jsxs)(I.a,{style:{width:300,marginTop:16},className:"col-md-6",loading:c,children:[Object(j.jsx)("h4",{children:Object(j.jsx)("a",{href:"launches/".concat(e.mission_id),children:e.mission_name})}),Object(j.jsx)(I.a.Meta,{description:e.details}),Object(j.jsxs)("div",{className:"text-muted pt-2",children:["On ",e.launch_date_local," from ",e.launch_site.site_name]}),Object(j.jsxs)("div",{children:["Video link: ",Object(j.jsx)("a",{href:e.links.video_link,children:e.links.video_link})]})]},e.mission_id[0])}))})}function M(){var e=Object(o.g)().rocketId,t=Object(w.a)(k||(k=Object(v.a)(["\n    query RocketById($id: ID!){\n      rocket(id: $id) {\n        company\n        cost_per_launch\n        country\n        description\n        id\n        mass {\n          kg\n        }\n        name\n      }\n    }\n  "]))),n=Object(y.a)(t,{variables:{id:e}}),c=n.loading,a=n.error,i=n.data;return c?[1,2,3].map((function(e){return Object(j.jsx)(N.a,{loading:c,active:!0,children:Object(j.jsx)(I.a,{style:{width:300,marginTop:16},loading:c,children:Object(j.jsx)(I.a.Meta,{title:"loading",description:"loading"})},e)})})):a?Object(j.jsxs)("p",{children:["Error ",JSON.stringify(a)]}):Object(j.jsx)($.a,{className:"p-0 m-0 row",fluid:!0,children:Object(j.jsxs)(I.a,{style:{width:300,marginTop:16},className:"col-md-6",loading:c,children:[Object(j.jsxs)("h3",{children:[i.rocket.name," by ",i.rocket.company," from ",i.rocket.country]}),Object(j.jsx)(I.a.Meta,{description:i.rocket.description}),Object(j.jsxs)("div",{className:"text-muted pt-2",children:["Weight: ",i.rocket.mass.kg,"kg"]}),Object(j.jsxs)("div",{className:"text-muted pt-2",children:["Cost: ",i.rocket.cost_per_launch]})]})})}var U,E,J=n(309),L=n(188),R=n(306),D=n(307),F=n(296);function B(){var e=Object(w.a)(U||(U=Object(v.a)(["\n    mutation delete_users($_eq: uuid){\n      delete_users(where: {id: {_eq : $_eq}}){\n        returning{ \n          name\n          rocket\n          twitter\n        }\n      }\n    }\n  "]))),t=Object(w.a)(E||(E=Object(v.a)(["\n    query {\n      users {\n        name\n        id\n        rocket\n      }\n    }\n  "]))),n=Object(y.a)(t),c=n.loading,a=n.error,i=n.data,r=n.refetch,s=Object(J.a)(e),o=Object(l.a)(s,2),d=o[0],u=o[1];function b(e){console.log(e),L.b.error("Clicked on No")}var h=[{title:"Name",dataIndex:"name",key:"name"},{title:"Rocket",dataIndex:"rocket",key:"rocket"},{title:"Action",key:"action",render:function(e,t){return Object(j.jsxs)(R.b,{size:"middle",children:[Object(j.jsx)("a",{href:"/users/".concat(t.id,"/edit"),children:"edit"}),Object(j.jsx)(D.a,{title:"Are you sure to delete this user?",onConfirm:function(){return e=t.id,d({variables:{_eq:e}}),r(),console.log(e),void L.b.success("user deleted!");var e},onCancel:b,okText:"Yes",cancelText:"No",children:Object(j.jsx)("a",{children:"delete"})})]})}}];return u.data&&console.log(u.data),c?Object(j.jsx)("div",{style:{display:"grid",placeItems:"center",height:"100vh"},children:"Loading..."}):a?Object(j.jsxs)("p",{children:["Error ",JSON.stringify(a)]}):i?Object(j.jsx)("div",{className:"mt-2",children:Object(j.jsx)(F.a,{dataSource:i.users,columns:h})}):void 0}var A,W,z,P=n(158),Y=n.n(P),G=n(184),H=n(298),K=n(294),V=n(295),Q=n(300),X=n(50);function Z(){var e=H.a.useForm(),t=Object(l.a)(e,1)[0],n=Object(o.g)().userId,a=Object(w.a)(A||(A=Object(v.a)(["\n    query GetUser($_eq: uuid){\n      users(where: {id: {_eq: $_eq}}){\n        name\n        id\n        rocket \n        twitter\n      }\n    }\n  "]))),i=Object(w.a)(W||(W=Object(v.a)(["\n    mutation insert_users($name: String, $rocket: String, $twitter: String) {\n      insert_users(objects: { name: $name, rocket: $rocket, twitter: $twitter }) {\n        returning {\n          name\n          id\n          rocket\n          twitter\n        }\n      }\n    }\n  "]))),r=Object(w.a)(z||(z=Object(v.a)(["\n    mutation update_users($_eq: uuid, $name: String, $rocket: String, $twitter: String) {\n      update_users(where : { id: { _eq: $_eq }}, _set: {name: $name, rocket: $rocket, twitter: $twitter }){\n        returning{\n          id\n          name\n          rocket\n          twitter\n        }\n      }\n    }\n  "]))),s=Object(y.a)(a,{variables:{_eq:n}}),d=s.loading,u=s.error,b=s.data,h=Object(J.a)(r),m=Object(l.a)(h,1)[0],O=Object(J.a)(i),x=Object(l.a)(O,1)[0],p=Object(c.useState)(""),g=Object(l.a)(p,2),f=g[0],_=g[1],k=Object(c.useState)(""),N=Object(l.a)(k,2),I=N[0],q=N[1],S=Object(c.useState)(""),T=Object(l.a)(S,2),C=T[0],M=T[1],U=Object(c.useState)(!1),E=Object(l.a)(U,2),L=E[0],R=E[1];function D(){return(D=Object(G.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.next=3,m({variables:{name:C,rocket:I,twitter:f,_eq:n}});case 3:return e.abrupt("return",R(!0));case 4:return e.next=6,x({variables:{name:C,rocket:I,twitter:f}}).then((function(){return R(!0)})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){var e,t,c;n&&(M(b&&(null===b||void 0===b||null===(e=b.users[0])||void 0===e?void 0:e.name)),_(b&&(null===b||void 0===b||null===(t=b.users[0])||void 0===t?void 0:t.twitter)),q(b&&(null===b||void 0===b||null===(c=b.users[0])||void 0===c?void 0:c.rocket)))}),[b,n]),d?"getting user details":u?"error! ".concat(u.message):Object(j.jsx)($.a,{fluid:!0,children:Object(j.jsxs)(K.a,{children:[L&&Object(j.jsx)(o.a,{to:"/users"}),Object(j.jsxs)(K.a.Content,{children:[Object(j.jsx)(V.a,{children:n?"Edit User":"Create User"}),Object(j.jsxs)(H.a,{form:t,layout:"inline",onFinish:function(e){return D.apply(this,arguments)},children:[Object(j.jsx)(H.a.Item,{label:"Name",required:!0,tooltip:"Add your name",children:Object(j.jsx)(Q.a,{placeholder:"Name",value:C,onChange:function(e){return M(e.target.value)}})}),Object(j.jsx)(H.a.Item,{label:"Rocket",tooltip:{title:"Name of the rocket "},children:Object(j.jsx)(Q.a,{placeholder:"Rocket Name",value:I,onChange:function(e){return q(e.target.value)}})}),Object(j.jsx)(H.a.Item,{name:"url",label:"Your twitter URL",rules:[{type:"url",warningOnly:!0},{type:"string",min:6}],children:Object(j.jsx)(Q.a,{placeholder:"Twitter URL",value:f,onChange:function(e){return _(e.target.value)}})}),Object(j.jsx)(H.a.Item,{children:Object(j.jsx)(X.a,{type:"submit",htmlType:"submit",children:n?"Update":"Create"})})]})]}),Object(j.jsx)(V.a,{})]})})}function ee(){return Object(j.jsx)(s.a,{children:Object(j.jsx)(x,{children:Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{exact:!0,path:"/",component:T}),Object(j.jsx)(o.b,{exact:!0,path:"/launches",component:q}),Object(j.jsx)(o.b,{exact:!0,path:"/rockets",component:S}),Object(j.jsx)(o.b,{exact:!0,path:"/users",component:B}),Object(j.jsx)(o.b,{exact:!0,path:"/users/create",component:Z}),Object(j.jsx)(o.b,{exact:!0,path:"/users/:userId/edit",component:Z}),Object(j.jsx)(o.b,{exact:!0,path:"/rockets/:rocketId",component:M}),Object(j.jsx)(o.b,{exact:!0,path:"/launches/:launchId",component:C})]})})})}var te=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(ee,{})})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,310)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(te,{})}),document.getElementById("root")),ne()}},[[284,1,2]]]);
//# sourceMappingURL=main.8df72a0f.chunk.js.map